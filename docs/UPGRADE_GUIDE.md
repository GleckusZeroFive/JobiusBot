# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é JobiusBot v2.0

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?

### 1. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```
JobiusBot/
‚îú‚îÄ‚îÄ bot.py              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (—É–ø—Ä–æ—â–µ–Ω)
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ hh_api.py          # API HeadHunter (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ basic.py       # /start, /help, /stats, /calc
‚îÇ   ‚îú‚îÄ‚îÄ search.py      # –ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ favorites.py   # –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
‚îú‚îÄ‚îÄ database/          # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª–∏ –∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ keyboards/         # Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ inline.py      # –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–π
‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ states.py      # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
    ‚îî‚îÄ‚îÄ pagination.py  # –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞
- –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ (–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ LLM)

### 3. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **Inline-–∫–Ω–æ–ø–∫–∏** –ø–æ–¥ –∫–∞–∂–¥–æ–π –≤–∞–∫–∞–Ω—Å–∏–µ–π:
  - üîó –û—Ç–∫—Ä—ã—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é
  - ‚≠ê –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
  - ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ / –í–ø–µ—Ä–µ–¥ ‚û°Ô∏è (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)

- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**:
  - –ü–æ 3 –≤–∞–∫–∞–Ω—Å–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
  - –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

- **–°–∏—Å—Ç–µ–º–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ**:
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö: `/favorites`

### 4. –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞
- `/favorites` - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π

### 5. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ LLM
- –¢–∞–±–ª–∏—Ü–∞ `conversations` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- –ú–µ—Ç–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/–ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
source venv/bin/activate
pip install -r requirements.txt
```

–ù–æ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: `aiosqlite==0.20.0`

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `jobius.db` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏.

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
./start.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
source venv/bin/activate
python bot.py
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

–í Telegram –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É:
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- `/search Python` - –ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π
- –ù–∞–∂–º–∏—Ç–µ ‚≠ê –ø–æ–¥ –≤–∞–∫–∞–Ω—Å–∏–µ–π - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- `/favorites` - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- `/stats` - –í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏

–°—Ç–∞—Ä—ã–π `bot.py` —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∫–∞–∫ `bot_old.py` –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π.

**–í–∞–∂–Ω–æ**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –Ω—É–ª—è. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ (–µ—Å–ª–∏ –±—ã–ª–∞ –ë–î), –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
- `user_id` - Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` - Username
- `first_name`, `last_name` - –ò–º—è
- `created_at` - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `last_active` - –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- `search_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–æ–≤
- `preferences` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (JSON)

### –¢–∞–±–ª–∏—Ü–∞ `favorites`
- `id` - –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç ID
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `vacancy_id` - ID –≤–∞–∫–∞–Ω—Å–∏–∏ –Ω–∞ hh.ru
- `vacancy_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- `company_name` - –ö–æ–º–ø–∞–Ω–∏—è
- `salary` - –ó–∞—Ä–ø–ª–∞—Ç–∞
- `location` - –ì–æ—Ä–æ–¥
- `url` - –°—Å—ã–ª–∫–∞
- `added_at` - –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

### –¢–∞–±–ª–∏—Ü–∞ `search_history`
- `id` - –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç ID
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `search_query` - –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- `search_params` - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (JSON)
- `results_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `searched_at` - –î–∞—Ç–∞ –ø–æ–∏—Å–∫–∞

### –¢–∞–±–ª–∏—Ü–∞ `conversations`
- `id` - –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç ID
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `role` - –†–æ–ª—å (user/assistant/system)
- `content` - –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í —Ñ–∞–π–ª–µ `config.py` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
- `DATABASE_PATH` - –ü—É—Ç—å –∫ –ë–î (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `jobius.db`)
- `VACANCIES_PER_PAGE` - –í–∞–∫–∞–Ω—Å–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- `MAX_VACANCIES_SHOW` - –ú–∞–∫—Å–∏–º—É–º –≤–∞–∫–∞–Ω—Å–∏–π –∑–∞ –ø–æ–∏—Å–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)
- `LOG_LEVEL` - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é INFO)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM** (Groq, OpenAI, Claude)
2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã** —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –Ω–æ–≤—ã—Ö –≤–∞–∫–∞–Ω—Å–∏—è—Ö
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—é–º–µ** —á–µ—Ä–µ–∑ AI
5. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é** —Å –ø–æ–º–æ—â—å—é LLM

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Database is locked"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞:
```bash
./stop.sh
./start.sh
```

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –∏ –Ω–∞–ª–∏—á–∏–µ `__init__.py`:
```bash
find . -name "__init__.py" | grep -v venv
```

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
./logs.sh
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `./logs.sh -e` (—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º –±–æ—Ç–∞

---

**–í–µ—Ä—Å–∏—è**: 2.0
**–î–∞—Ç–∞**: 2026-01-19
