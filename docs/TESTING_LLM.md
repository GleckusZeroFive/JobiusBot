# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `.env`, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ LLM —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd /home/gleckus/projects/JobiusBot
source venv/bin/activate
pip install -r requirements.txt
```

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
./restart.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
./logs.sh
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
Groq LLM —Å–µ—Ä–≤–∏—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å 4 –∫–ª—é—á–∞–º–∏
LLM Middleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: Offtopic —Å–æ–æ–±—â–µ–Ω–∏–µ (1-–µ)

**–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É:**
```
–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –Ω–∞ —É–ª–∏—Ü–µ?
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```
–î–∞–≤–∞–π –ª—É—á—à–µ –ø–æ–∏—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏! üòä
–ö–∞–∫—É—é —Ä–∞–±–æ—Ç—É —Ç—ã –∏—â–µ—à—å?
```

### –¢–µ—Å—Ç 2: Offtopic –ø–æ–¥—Ä—è–¥ (2-–µ)

**–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É:**
```
–ö–∞–∫ –¥–µ–ª–∞?
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```
–ü–æ–Ω–∏–º–∞—é, –Ω–æ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—ë–º—Å—è –∫ –ø–æ–∏—Å–∫—É —Ä–∞–±–æ—Ç—ã? üîç
–Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏!
```

### –¢–µ—Å—Ç 3: –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ —Ç–µ–º–µ

**–û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É:**
```
–ò—â—É —Ä–∞–±–æ—Ç—É Python developer
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ë–æ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- –°—á—ë—Ç—á–∏–∫ consecutive_offtopic —Å–±—Ä–æ—Å–∏—Ç—Å—è

### –¢–µ—Å—Ç 4: –°–±—Ä–æ—Å —Å–µ—Å—Å–∏–∏

**–î–ª—è —Ç–µ—Å—Ç–∞ —Å–±—Ä–æ—Å–∞ —Å–µ—Å—Å–∏–∏ –Ω—É–∂–Ω–æ:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å 10+ offtopic —Å–æ–æ–±—â–µ–Ω–∏–π
2. –ò–∑ –Ω–∏—Ö 3+ –ø–æ–¥—Ä—è–¥

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
```
1. "–ü—Ä–∏–≤–µ—Ç –∫–∞–∫ –¥–µ–ª–∞?" (offtopic 1, consecutive 1)
2. "–ß—Ç–æ –¥—É–º–∞–µ—à—å –æ –ø–æ–≥–æ–¥–µ?" (offtopic 2, consecutive 2)
3. "Python developer –ú–æ—Å–∫–≤–∞" (–ø–æ —Ç–µ–º–µ - —Å–±—Ä–æ—Å consecutive)
4. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—É–Ω–∫—Ç—ã 1-3 –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
...
10+ offtopic —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞–∫–æ–ø–ª–µ–Ω–æ, –∑–∞—Ç–µ–º:
- "–†–∞—Å—Å–∫–∞–∂–∏ –∞–Ω–µ–∫–¥–æ—Ç" (offtopic 10+, consecutive 1)
- "–ö–∞–∫ –∂–∏–∑–Ω—å?" (offtopic 11+, consecutive 2)
- "–ß—Ç–æ –¥–µ–ª–∞–µ—à—å?" (offtopic 12+, consecutive 3)
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–∏ —Å–±—Ä–æ—Å–µ:**
```
üîÑ –ö–∞–∂–µ—Ç—Å—è, –º—ã –æ—Ç–æ—à–ª–∏ –æ—Ç —Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã.

–î–∞–≤–∞–π –Ω–∞—á–Ω—ë–º —Å–Ω–∞—á–∞–ª–∞! –Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Ç–µ–±–µ –Ω–∞–π—Ç–∏ —Ä–∞–±–æ—Ç—É.
–ü–æ–ø—Ä–æ–±—É–π –Ω–∞–∂–∞—Ç—å üîç –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏,
–∫–∞–∫—É—é –≤–∞–∫–∞–Ω—Å–∏—é –∏—â–µ—à—å! üòä
```

### –¢–µ—Å—Ç 5: –ö–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏

**–û—Ç–ø—Ä–∞–≤—å:**
```
/help
```
–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫—É "üîç –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°—á—ë—Ç—á–∏–∫ consecutive_offtopic —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É

### –¢–µ—Å—Ç 6: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ LLM

–û—Ç–ø—Ä–∞–≤—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
"–•–æ—á—É —Å–º–µ–Ω–∏—Ç—å –∫–∞—Ä—å–µ—Ä—É, –Ω–æ –Ω–µ –∑–Ω–∞—é —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- LLM –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–∞–∫ `job_search` (is_relevant: true)
- –ë–æ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:**
```bash
./logs.sh
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–æ–≥:
```
LLM –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è '–•–æ—á—É —Å–º–µ–Ω–∏—Ç—å –∫–∞—Ä—å–µ—Ä—É...': {'is_relevant': True, 'confidence': 0.9, 'category': 'job_search'}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—á—ë—Ç—á–∏–∫–æ–≤ offtopic:

```bash
sqlite3 jobius.db "SELECT * FROM offtopic_tracker;"
```

## –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
./logs.sh -f
```

–°–ª–µ–¥–∏—Ç–µ –∑–∞:
- `LLM –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è '...'` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- `Offtopic –æ—Ç user XXX: consecutive=Y, total=Z` - —Å—á—ë—Ç—á–∏–∫–∏ offtopic

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ—Ç–∞—Ü–∏–∏ –∫–ª—é—á–µ–π

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã —á–µ—Ä–µ–¥–æ–≤–∞—Ç—å—Å—è –ø–æ–ø—ã—Ç–∫–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏:
```
–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç Groq (–ø–æ–ø—ã—Ç–∫–∞ 1)
...
–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç Groq (–ø–æ–ø—ã—Ç–∫–∞ 1)
```

## –û—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

### "groq module not found"
```bash
pip install groq==0.12.0
```

### "Groq API –∫–ª—é—á–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
–ü—Ä–æ–≤–µ—Ä—å `.env` —Ñ–∞–π–ª, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
```
GROQ_API_KEY_1=gsk_...
```

### "Rate limit exceeded"
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 –∫–ª—é—á –∏–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç
- –î–æ–±–∞–≤—å –±–æ–ª—å—à–µ –∫–ª—é—á–µ–π –≤ `.env`
- –ü–æ–¥–æ–∂–¥–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–º–æ—Ç—Ä–∏ —Ñ–∞–π–ª `logs/bot.log`:
```bash
tail -f logs/bot.log | grep -E "LLM|Groq|Offtopic"
```

## –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Å LLM:
```
2026-01-19 14:00:00 - root - INFO - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2026-01-19 14:00:00 - root - INFO - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞!
2026-01-19 14:00:00 - utils.llm_service - INFO - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω GroqService —Å 4 –∫–ª—é—á–∞–º–∏, –º–æ–¥–µ–ª—å: llama-3.3-70b-versatile
2026-01-19 14:00:00 - root - INFO - Groq LLM —Å–µ—Ä–≤–∏—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å 4 –∫–ª—é—á–∞–º–∏
2026-01-19 14:00:00 - root - INFO - LLM Middleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2026-01-19 14:00:00 - root - INFO - –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!
```

–ì–æ—Ç–æ–≤–æ! üéâ
